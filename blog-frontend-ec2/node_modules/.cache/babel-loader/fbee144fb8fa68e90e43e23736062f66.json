{"ast":null,"code":"import React,{useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{writePost,updatePost}from'../../modules/write';import WriteActionButtons from'../../components/write/WriteActionButtons';import{withRouter}from'react-router-dom';var WriteActionButtonsContainer=function WriteActionButtonsContainer(_ref){var history=_ref.history;var dispatch=useDispatch();var _useSelector=useSelector(function(_ref2){var write=_ref2.write;return{title:write.title,body:write.body,tags:write.tags,post:write.post,postError:write.postError,originalPostId:write.originalPostId};}),title=_useSelector.title,body=_useSelector.body,tags=_useSelector.tags,post=_useSelector.post,postError=_useSelector.postError,originalPostId=_useSelector.originalPostId;var onPublish=function onPublish(){if(originalPostId){dispatch(updatePost({title:title,body:body,tags:tags,id:originalPostId}));}dispatch(writePost({title:title,body:body,tags:tags}));};var onCancel=function onCancel(){history.goBack();};// 성공 혹은 실패 시 할  작업\nuseEffect(function(){if(post){var _id=post._id,user=post.user;history.push(\"/@\".concat(user.username,\"/\").concat(_id));}if(postError){console.log(postError);}},[history,post,postError]);return React.createElement(WriteActionButtons,{onPublish:onPublish,onCancel:onCancel,isEdit:originalPostId});};export default withRouter(WriteActionButtonsContainer);","map":{"version":3,"sources":["/Users/neo/Desktop/react/blog/blog-frontend/src/containers/write/WriteActionButtonsContainer.js"],"names":["React","useEffect","useDispatch","useSelector","writePost","updatePost","WriteActionButtons","withRouter","WriteActionButtonsContainer","history","dispatch","write","title","body","tags","post","postError","originalPostId","onPublish","id","onCancel","goBack","_id","user","push","username","console","log"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,SAAT,CAAoBC,UAApB,KAAsC,qBAAtC,CAEA,MAAOC,CAAAA,kBAAP,KAA+B,2CAA/B,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,GAAMC,CAAAA,2BAA2B,CAAG,QAA9BA,CAAAA,2BAA8B,MAAiB,IAAdC,CAAAA,OAAc,MAAdA,OAAc,CACnD,GAAMC,CAAAA,QAAQ,CAAGR,WAAW,EAA5B,CADmD,iBAEYC,WAAW,CACxE,mBAAGQ,CAAAA,KAAH,OAAGA,KAAH,OAAgB,CACdC,KAAK,CAAED,KAAK,CAACC,KADC,CAEdC,IAAI,CAAEF,KAAK,CAACE,IAFE,CAGdC,IAAI,CAAEH,KAAK,CAACG,IAHE,CAIdC,IAAI,CAAEJ,KAAK,CAACI,IAJE,CAKdC,SAAS,CAAEL,KAAK,CAACK,SALH,CAMdC,cAAc,CAAEN,KAAK,CAACM,cANR,CAAhB,EADwE,CAFvB,CAE3CL,KAF2C,cAE3CA,KAF2C,CAEpCC,IAFoC,cAEpCA,IAFoC,CAE9BC,IAF8B,cAE9BA,IAF8B,CAExBC,IAFwB,cAExBA,IAFwB,CAElBC,SAFkB,cAElBA,SAFkB,CAEPC,cAFO,cAEPA,cAFO,CAYnD,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACtB,GAAID,cAAJ,CAAoB,CAClBP,QAAQ,CAACL,UAAU,CAAC,CAAEO,KAAK,CAALA,KAAF,CAASC,IAAI,CAAJA,IAAT,CAAeC,IAAI,CAAJA,IAAf,CAAqBK,EAAE,CAAEF,cAAzB,CAAD,CAAX,CAAR,CACD,CACDP,QAAQ,CAACN,SAAS,CAAC,CAAEQ,KAAK,CAALA,KAAF,CAASC,IAAI,CAAJA,IAAT,CAAeC,IAAI,CAAJA,IAAf,CAAD,CAAV,CAAR,CACD,CALD,CAOA,GAAMM,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACrBX,OAAO,CAACY,MAAR,GACD,CAFD,CAGA;AACApB,SAAS,CAAC,UAAM,CACd,GAAIc,IAAJ,CAAU,IACAO,CAAAA,GADA,CACcP,IADd,CACAO,GADA,CACKC,IADL,CACcR,IADd,CACKQ,IADL,CAERd,OAAO,CAACe,IAAR,aAAkBD,IAAI,CAACE,QAAvB,aAAmCH,GAAnC,GACD,CACD,GAAIN,SAAJ,CAAe,CACbU,OAAO,CAACC,GAAR,CAAYX,SAAZ,EACD,CACF,CARQ,CAQN,CAACP,OAAD,CAAUM,IAAV,CAAgBC,SAAhB,CARM,CAAT,CASA,MACE,qBAAC,kBAAD,EACE,SAAS,CAAEE,SADb,CAEE,QAAQ,CAAEE,QAFZ,CAGE,MAAM,CAAEH,cAHV,EADF,CAOD,CAvCD,CAyCA,cAAeV,CAAAA,UAAU,CAACC,2BAAD,CAAzB","sourcesContent":["import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { writePost, updatePost } from '../../modules/write';\n\nimport WriteActionButtons from '../../components/write/WriteActionButtons';\nimport { withRouter } from 'react-router-dom';\nconst WriteActionButtonsContainer = ({ history }) => {\n  const dispatch = useDispatch();\n  const { title, body, tags, post, postError, originalPostId } = useSelector(\n    ({ write }) => ({\n      title: write.title,\n      body: write.body,\n      tags: write.tags,\n      post: write.post,\n      postError: write.postError,\n      originalPostId: write.originalPostId,\n    }),\n  );\n  const onPublish = () => {\n    if (originalPostId) {\n      dispatch(updatePost({ title, body, tags, id: originalPostId }));\n    }\n    dispatch(writePost({ title, body, tags }));\n  };\n\n  const onCancel = () => {\n    history.goBack();\n  };\n  // 성공 혹은 실패 시 할  작업\n  useEffect(() => {\n    if (post) {\n      const { _id, user } = post;\n      history.push(`/@${user.username}/${_id}`);\n    }\n    if (postError) {\n      console.log(postError);\n    }\n  }, [history, post, postError]);\n  return (\n    <WriteActionButtons\n      onPublish={onPublish}\n      onCancel={onCancel}\n      isEdit={originalPostId}\n    />\n  );\n};\n\nexport default withRouter(WriteActionButtonsContainer);\n"]},"metadata":{},"sourceType":"module"}