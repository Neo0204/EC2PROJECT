{"ast":null,"code":"import _regeneratorRuntime from\"/Users/neo/Desktop/react/blog/blog-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import{startLoading,finishLoading}from'../modules/loading';import{call,put}from'redux-saga/effects';export var createRequestActionTypes=function createRequestActionTypes(type){var SUCCESS=\"\".concat(type,\"_SUCCESS\");var FAILURE=\"\".concat(type,\"_FAILURE\");return[type,SUCCESS,FAILURE];};export default function createRequestSaga(type,request){var SUCCESS=\"\".concat(type,\"_SUCCESS\");var FAILURE=\"\".concat(type,\"_FAILURE\");return(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(action){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return put(startLoading(type));case 2:_context.prev=2;_context.next=5;return call(request,action.payload);case 5:response=_context.sent;_context.next=8;return put({type:SUCCESS,payload:response.data,meta:response});case 8:_context.next=14;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](2);_context.next=14;return put({type:FAILURE,payload:_context.t0,error:true});case 14:_context.next=16;return put(finishLoading(type));case 16:case\"end\":return _context.stop();}}},_callee,null,[[2,10]]);}));}","map":{"version":3,"sources":["/Users/neo/Desktop/react/blog/blog-frontend/src/lib/createRequestSaga.js"],"names":["startLoading","finishLoading","call","put","createRequestActionTypes","type","SUCCESS","FAILURE","createRequestSaga","request","action","payload","response","data","meta","error"],"mappings":"yJAAA,OAASA,YAAT,CAAuBC,aAAvB,KAA4C,oBAA5C,CACA,OAASC,IAAT,CAAeC,GAAf,KAA0B,oBAA1B,CAEA,MAAO,IAAMC,CAAAA,wBAAwB,CAAG,QAA3BA,CAAAA,wBAA2B,CAAAC,IAAI,CAAI,CAC9C,GAAMC,CAAAA,OAAO,WAAMD,IAAN,YAAb,CACA,GAAME,CAAAA,OAAO,WAAMF,IAAN,YAAb,CACA,MAAO,CAACA,IAAD,CAAOC,OAAP,CAAgBC,OAAhB,CAAP,CACD,CAJM,CAMP,cAAe,SAASC,CAAAA,iBAAT,CAA2BH,IAA3B,CAAiCI,OAAjC,CAA0C,CACvD,GAAMH,CAAAA,OAAO,WAAMD,IAAN,YAAb,CACA,GAAME,CAAAA,OAAO,WAAMF,IAAN,YAAb,CAEA,6CAAO,iBAAUK,MAAV,+IACL,MAAMP,CAAAA,GAAG,CAACH,YAAY,CAACK,IAAD,CAAb,CAAT,CADK,uCAGc,MAAMH,CAAAA,IAAI,CAACO,OAAD,CAAUC,MAAM,CAACC,OAAjB,CAAV,CAHd,OAGGC,QAHH,+BAIH,MAAMT,CAAAA,GAAG,CAAC,CAAEE,IAAI,CAAEC,OAAR,CAAiBK,OAAO,CAAEC,QAAQ,CAACC,IAAnC,CAAyCC,IAAI,CAAEF,QAA/C,CAAD,CAAT,CAJG,yGAMH,MAAMT,CAAAA,GAAG,CAAC,CAAEE,IAAI,CAAEE,OAAR,CAAiBI,OAAO,YAAxB,CAA6BI,KAAK,CAAE,IAApC,CAAD,CAAT,CANG,yBAQL,MAAMZ,CAAAA,GAAG,CAACF,aAAa,CAACI,IAAD,CAAd,CAAT,CARK,qEAAP,GAUD","sourcesContent":["import { startLoading, finishLoading } from '../modules/loading';\nimport { call, put } from 'redux-saga/effects';\n\nexport const createRequestActionTypes = type => {\n  const SUCCESS = `${type}_SUCCESS`;\n  const FAILURE = `${type}_FAILURE`;\n  return [type, SUCCESS, FAILURE];\n};\n\nexport default function createRequestSaga(type, request) {\n  const SUCCESS = `${type}_SUCCESS`;\n  const FAILURE = `${type}_FAILURE`;\n\n  return function*(action) {\n    yield put(startLoading(type));\n    try {\n      const response = yield call(request, action.payload);\n      yield put({ type: SUCCESS, payload: response.data, meta: response });\n    } catch (e) {\n      yield put({ type: FAILURE, payload: e, error: true });\n    }\n    yield put(finishLoading(type));\n  };\n}\n"]},"metadata":{},"sourceType":"module"}