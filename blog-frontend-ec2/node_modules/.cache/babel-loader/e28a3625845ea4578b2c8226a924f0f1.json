{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/neo/Desktop/react/blog/blog-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject3(){var data=_taggedTemplateLiteral([\"\\n  .ql-editor {\\n    padding: 0;\\n    min-height: 320px;\\n    font-size: 1.125rem;\\n    line-height: 1.5;\\n  }\\n  .ql-editor .ql-blank::before {\\n    left: 0px;\\n  }\\n\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral([\"\\n  font-size: 3rem;\\n  outline: none;\\n  padding-bottom: 0.5rem;\\n  border: none;\\n  border-bottom: 1px solid \",\";\\n  margin-bottom: 2rem;\\n  width: 100%;\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\n  /* \\uD398\\uC774\\uC9C0 \\uC704\\uC544\\uB798 \\uC5EC\\uBC31\\uC9C0\\uC815 */\\n  padding-top: 5rem;\\n  padding-bottom: 5rem;\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useRef,useEffect}from'react';import styled from'styled-components';import Responsive from'../common/Responsive';import'quill/dist/quill.bubble.css';import Quill from'quill';import palette from'../../lib/styles/palette';var EditorBlock=styled(Responsive)(_templateObject());var TitleInput=styled.input(_templateObject2(),palette.gray[4]);var QuillWrapper=styled.div(_templateObject3());var Editor=function Editor(_ref){var title=_ref.title,body=_ref.body,onChangeField=_ref.onChangeField;var quillElement=useRef(null);// Quill을 적용할 DivElement\nvar quillInstance=useRef(null);// Quill 인스턴스 설정\nuseEffect(function(){quillInstance.current=new Quill(quillElement.current,{theme:'bubble',placeholder:'내용을 작성하세요...',modules:{toolbar:[[{header:'1'},{header:'2'}],['bold','italic','underline','strike'],[{list:'ordered'},{list:'bullet'}],['bold','code-block','link','image']]}});// quill에 text-change 이벤트 핸들러 등록\n// 참고: https://quilljs.com/docs/api/#events\nvar quill=quillInstance.current;quill.on('text-change',function(delta,oldDelta,source){if(source==='user'){onChangeField({key:'body',value:quill.root.innerHTML});}});},[onChangeField]);var mounted=useRef(false);useEffect(function(){if(mounted.current)return;mounted.current=true;quillInstance.current.root.innerHTML=body;},[body]);var onChangeTitle=function onChangeTitle(e){onChangeField({key:'title',value:e.target.value});};return React.createElement(EditorBlock,null,React.createElement(TitleInput,{placeholder:\"\\uC81C\\uBAA9\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694\",onChange:onChangeTitle,value:title}),React.createElement(QuillWrapper,null,React.createElement(\"div\",{ref:quillElement})));};export default Editor;","map":{"version":3,"sources":["/Users/neo/Desktop/react/blog/blog-frontend/src/components/write/Editor.js"],"names":["React","useRef","useEffect","styled","Responsive","Quill","palette","EditorBlock","TitleInput","input","gray","QuillWrapper","div","Editor","title","body","onChangeField","quillElement","quillInstance","current","theme","placeholder","modules","toolbar","header","list","quill","on","delta","oldDelta","source","key","value","root","innerHTML","mounted","onChangeTitle","e","target"],"mappings":"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","sourcesContent":["import React, { useRef, useEffect } from 'react';\nimport styled from 'styled-components';\nimport Responsive from '../common/Responsive';\nimport 'quill/dist/quill.bubble.css';\nimport Quill from 'quill';\nimport palette from '../../lib/styles/palette';\n\nconst EditorBlock = styled(Responsive)`\n  /* 페이지 위아래 여백지정 */\n  padding-top: 5rem;\n  padding-bottom: 5rem;\n`;\n\nconst TitleInput = styled.input`\n  font-size: 3rem;\n  outline: none;\n  padding-bottom: 0.5rem;\n  border: none;\n  border-bottom: 1px solid ${palette.gray[4]};\n  margin-bottom: 2rem;\n  width: 100%;\n`;\n\nconst QuillWrapper = styled.div`\n  .ql-editor {\n    padding: 0;\n    min-height: 320px;\n    font-size: 1.125rem;\n    line-height: 1.5;\n  }\n  .ql-editor .ql-blank::before {\n    left: 0px;\n  }\n`;\n\nconst Editor = ({ title, body, onChangeField }) => {\n  const quillElement = useRef(null); // Quill을 적용할 DivElement\n  const quillInstance = useRef(null); // Quill 인스턴스 설정\n\n  useEffect(() => {\n    quillInstance.current = new Quill(quillElement.current, {\n      theme: 'bubble',\n      placeholder: '내용을 작성하세요...',\n      modules: {\n        toolbar: [\n          [{ header: '1' }, { header: '2' }],\n          ['bold', 'italic', 'underline', 'strike'],\n          [{ list: 'ordered' }, { list: 'bullet' }],\n          ['bold', 'code-block', 'link', 'image'],\n        ],\n      },\n    });\n    // quill에 text-change 이벤트 핸들러 등록\n    // 참고: https://quilljs.com/docs/api/#events\n    const quill = quillInstance.current;\n    quill.on('text-change', (delta, oldDelta, source) => {\n      if (source === 'user') {\n        onChangeField({ key: 'body', value: quill.root.innerHTML });\n      }\n    });\n  }, [onChangeField]);\n\n  const mounted = useRef(false);\n  useEffect(() => {\n    if (mounted.current) return;\n    mounted.current = true;\n    quillInstance.current.root.innerHTML = body;\n  }, [body]);\n  const onChangeTitle = e => {\n    onChangeField({ key: 'title', value: e.target.value });\n  };\n  return (\n    <EditorBlock>\n      <TitleInput\n        placeholder=\"제목을 입력하세요\"\n        onChange={onChangeTitle}\n        value={title}\n      />\n      <QuillWrapper>\n        <div ref={quillElement}></div>\n      </QuillWrapper>\n    </EditorBlock>\n  );\n};\n\nexport default Editor;\n"]},"metadata":{},"sourceType":"module"}