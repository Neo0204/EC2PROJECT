(this["webpackJsonpblog-frontend"]=this["webpackJsonpblog-frontend"]||[]).push([[0],{63:function(e,n,t){e.exports=t(98)},68:function(e,n,t){},98:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(30),c=t.n(o),u=(t(68),t(25)),i=t(9),l=t(2),s=t(3),b=t(61);function m(){var e=Object(l.a)(["\n  padding-left: 1rem;\n  padding-right: 1rem;\n  /* 1024px\uc774\uc0c1\uc774\uba74 1024px\ub97c \uc918\ub77c */\n  width: 1024px;\n  margin: 0 auto; /* \uc911\uc559\uc815\ub82c */\n  /* 1024px\uc774\ud558 768\uc544\uc0c1\uc740 768px */\n  @media (max-width: 1024px) {\n    width: 768px;\n  }\n  /* 768px\uc774\ud558 width= 100%\uc8fc\uc5b4\ub77c */\n  @media (max-width: 768px) {\n    width: 100%;\n  }\n"]);return m=function(){return e},e}var f=s.b.div(m()),d=function(e){var n=e.children,t=Object(b.a)(e,["children"]);return a.a.createElement(f,t,n)},p={gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"]},g=t(12);function v(){var e=Object(l.a)(["\n  ","\n"]);return v=function(){return e},e}function O(){var e=Object(l.a)(["\n  ","\n"]);return O=function(){return e},e}function j(){var e=Object(l.a)(["\n      background: ",";\n      &:hover {\n        background: ",";\n      }\n    "]);return j=function(){return e},e}function E(){var e=Object(l.a)(["\n      /* \uae00\uc790\uc640 block \uc0ac\uc774\uc758 \uac04\uaca9 */\n      padding-top: 0.75rem;\n      padding-bottom: 0.75rem;\n      width: 100%;\n      font-size: 1.125rem;\n    "]);return E=function(){return e},e}function h(){var e=Object(l.a)(["\n  border: none;\n  border-radius: 4px;\n  font-size: 1rem;\n  font-weight: bold;\n  padding: 0.25rem 1rem;\n  color: white;\n  outline: none;\n  cursor: pointer;\n  background: ",";\n  &:hover {\n    background: ",";\n  }\n\n  &:disabled {\n    background: ",";\n    color: ",";\n    cursor: not-allowed;\n  }\n\n  ","\n  ","\n"]);return h=function(){return e},e}var y=Object(s.a)(h(),p.gray[8],p.gray[6],p.gray[3],p.gray[5],(function(e){return e.fullWidth&&Object(s.a)(E())}),(function(e){return e.cyan&&Object(s.a)(j(),p.cyan[5],p.cyan[4])})),w=Object(s.b)(g.b)(O(),y),x=s.b.button(v(),y),k=function(e){return e.to?a.a.createElement(w,Object.assign({},e,{cyan:e.cyan?1:0})):a.a.createElement(x,e)};function S(){var e=Object(l.a)(["\n  font-weight: 800;\n  margin-right: 1rem;\n"]);return S=function(){return e},e}function C(){var e=Object(l.a)(["\n  height: 4rem;\n"]);return C=function(){return e},e}function I(){var e=Object(l.a)(["\n  height: 4rem;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n\n  .logo {\n    font-size: 1.125rem;\n    font-weight: 949;\n    letter-spacing: 2px;\n  }\n  .right {\n    display: flex;\n    align-items: center;\n  }\n"]);return I=function(){return e},e}function T(){var e=Object(l.a)(["\n  position: fixed;\n  width: 100%;\n  background: white;\n  box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.08);\n"]);return T=function(){return e},e}var _,R=s.b.div(T()),P=Object(s.b)(d)(I()),L=s.b.div(C()),A=s.b.div(S()),N=function(e){var n=e.user,t=e.onLogout;return a.a.createElement(a.a.Fragment,null,a.a.createElement(R,null,a.a.createElement(P,null,a.a.createElement(g.b,{to:"/",className:"logo"},"REACTERS"),n?a.a.createElement("div",{className:"right"},a.a.createElement(A,null,n.username),a.a.createElement(k,{onClick:t},"\ub85c\uadf8\uc544\uc6c3")):a.a.createElement("div",{className:"right"},a.a.createElement(k,{to:"/login"},"\ub85c\uadf8\uc778")))),a.a.createElement(L,null))},D=t(6),F=t(10),z=t(11),G=t.n(z),M=t(14),H=t(100),U=t(99),B=Object(H.a)("loading/START_LOADING",(function(e){return e})),W=Object(H.a)("loading/FINISH_LOADING",(function(e){return e})),J=Object(U.a)((_={},Object(D.a)(_,"loading/START_LOADING",(function(e,n){return Object(F.a)({},e,Object(D.a)({},n.payload,!0))})),Object(D.a)(_,"loading/FINISH_LOADING",(function(e,n){return Object(F.a)({},e,Object(D.a)({},n.payload,!1))})),_),{}),Z=t(13),q=function(e){return[e,"".concat(e,"_SUCCESS"),"".concat(e,"_FAILURE")]};function Q(e,n){var t="".concat(e,"_SUCCESS"),r="".concat(e,"_FAILURE");return G.a.mark((function a(o){var c;return G.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(Z.c)(B(e));case 2:return a.prev=2,a.next=5,Object(Z.b)(n,o.payload);case 5:return c=a.sent,a.next=8,Object(Z.c)({type:t,payload:c.data,meta:c});case 8:a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(2),a.next=14,Object(Z.c)({type:r,payload:a.t0,error:!0});case 14:return a.next=16,Object(Z.c)(W(e));case 16:case"end":return a.stop()}}),a,null,[[2,10]])}))}var $,K=t(54),V=t.n(K).a.create(),X=function(){return V.post("/api/auth/logout")},Y=G.a.mark(me),ee=G.a.mark(fe),ne=q("user/CHECK"),te=Object(M.a)(ne,3),re=te[0],ae=te[1],oe=te[2],ce="user/LOGOUT",ue=Object(H.a)("user/TEMP_SET_USER",(function(e){return e})),ie=Object(H.a)(re),le=Object(H.a)(ce),se=Q(re,(function(){return V.get("/api/auth/check")}));function be(){try{localStorage.removeItem("user")}catch(e){console.log("localStorage is not working")}}function me(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Z.b)(X);case 3:localStorage.removeItem("user"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),Y,null,[[0,6]])}function fe(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Z.d)(re,se);case 2:return e.next=4,Object(Z.d)(oe,be);case 4:return e.next=6,Object(Z.d)(ce,me);case 6:case"end":return e.stop()}}),ee)}var de,pe=Object(U.a)(($={},Object(D.a)($,"user/TEMP_SET_USER",(function(e,n){var t=n.payload;return Object(F.a)({},e,{user:t})})),Object(D.a)($,ae,(function(e,n){var t=n.payload;return Object(F.a)({},e,{user:t,checkError:null})})),Object(D.a)($,oe,(function(e,n){var t=n.payload;return Object(F.a)({},e,{user:null,checkError:t})})),Object(D.a)($,ce,(function(e){return Object(F.a)({},e,{user:null})})),$),{user:null,checkError:null}),ge=function(){var e=Object(i.c)((function(e){return{user:e.user.user}})).user,n=Object(i.b)();return a.a.createElement(N,{user:e,onLogout:function(){n(le())}})},ve=t(22),Oe=t.n(ve),je=G.a.mark(Ce),Ee=q("posts/LIST_POSTS"),he=Object(M.a)(Ee,3),ye=he[0],we=he[1],xe=he[2],ke=Object(H.a)(ye,(function(e){return{tags:e.tags,username:e.username,page:e.page}})),Se=Q(ye,(function(e){var n=e.page,t=e.username,r=e.tags,a=Oe.a.stringify({page:n,username:t,tags:r});return V.get("/api/posts?".concat(a))}));function Ce(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Z.d)(ye,Se);case 2:case"end":return e.stop()}}),je)}var Ie=Object(U.a)((de={},Object(D.a)(de,we,(function(e,n){var t=n.payload,r=n.meta;return Object(F.a)({},e,{posts:t,lastPage:parseInt(r.headers["last-page"],10)})})),Object(D.a)(de,xe,(function(e,n){var t=n.payload;return Object(F.a)({},e,{error:t})})),de),{posts:null,error:null,lastPage:1});function Te(){var e=Object(l.a)(["\n      margin-top: 1rem;\n    "]);return Te=function(){return e},e}function _e(){var e=Object(l.a)(["\n  ","\n  color: ",";\n  span + span:before {\n    color: ",";\n    padding-left: 0.25rem;\n    padding-right: 0.25rem;\n    content: '\\B7';\n  }\n"],["\n  ","\n  color: ",";\n  span + span:before {\n    color: ",";\n    padding-left: 0.25rem;\n    padding-right: 0.25rem;\n    content: '\\\\B7';\n  }\n"]);return _e=function(){return e},e}var Re=s.b.div(_e(),(function(e){return e.hasMarginTop&&Object(s.a)(Te())}),p.gray[6],p.gray[4]),Pe=function(e){var n=e.username,t=e.publishedDate,r=e.hasMarginTop;return a.a.createElement(Re,{hasMarginTop:r},a.a.createElement("span",null,a.a.createElement("b",null,a.a.createElement(g.b,{to:"/@".concat(n)},n))),a.a.createElement("span",null,new Date(t).toLocaleDateString()))};function Le(){var e=Object(l.a)(["\n  margin-top: 0.5rem;\n  .tag {\n    display: inline-block;\n    color: ",";\n    text-decoration: none;\n    margin-right: 0.5rem;\n    &:hover {\n      color: ",";\n    }\n  }\n"]);return Le=function(){return e},e}var Ae=s.b.div(Le(),p.cyan[7],p.gray[6]),Ne=function(e){var n=e.tags;return a.a.createElement(Ae,null,n.map((function(e){return a.a.createElement(g.b,{className:"tag",to:"/?tag=".concat(e),key:e},"#",e)})))};function De(){var e=Object(l.a)(["\n  padding-top: 3rem;\n  padding-bottom: 3rem;\n  /* \ub9e8 \uc704 \ud3ec\uc2a4\ud2b8\ub294 padding-top \uc5c6\uc74c */\n  &:first-child {\n    padding-top: 0;\n  }\n  & + & {\n    border-top: 1px solid ",";\n  }\n\n  h2 {\n    font-size: 2rem;\n    margin-top: 0;\n    margin-bottom: 0;\n    &:hover {\n      color: ",";\n    }\n    p {\n      margin-top: 2rem;\n    }\n  }\n"]);return De=function(){return e},e}function Fe(){var e=Object(l.a)(["\n  display: flex;\n  justify-content: flex-end;\n  margin-bottom: 3rem;\n"]);return Fe=function(){return e},e}function ze(){var e=Object(l.a)(["\n  margin-top: 3rem;\n"]);return ze=function(){return e},e}var Ge=Object(s.b)(d)(ze()),Me=s.b.div(Fe()),He=s.b.div(De(),p.gray[2],p.gray[6]),Ue=function(e){var n=e.post,t=n.publishedDate,r=n.user,o=n.tags,c=n.title,u=n.body,i=n._id;return a.a.createElement(He,null,a.a.createElement("h2",null,a.a.createElement(g.b,{to:"/@".concat(r.username,"/").concat(i)},c)),a.a.createElement(Pe,{username:r.username,publishedDate:new Date(t)}),a.a.createElement(Ne,{tags:o}),a.a.createElement("p",null,u))},Be=function(e){var n=e.posts,t=e.loading,r=e.error,o=e.showWriteButton;return r?a.a.createElement(Ge,null,"\uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."):a.a.createElement(Ge,null,a.a.createElement(Me,null,o&&a.a.createElement(k,{cyan:!0,to:"/write"},"\uc0c8 \uae00 \uc791\uc131\ud558\uae30")),!t&&n&&a.a.createElement("div",null,n.map((function(e){return a.a.createElement(Ue,{post:e,key:e._id})}))))},We=Object(u.e)((function(e){var n=e.location,t=Object(i.b)(),o=Object(i.c)((function(e){var n=e.posts,t=e.loading,r=e.user;return{posts:n.posts,error:n.error,loading:t["posts/LIST_POSTS"],user:r.user}})),c=o.posts,u=o.error,l=o.loading,s=o.user;return Object(r.useEffect)((function(){var e=Oe.a.parse(n.search,{ignoreQueryPrefix:!0}),r=e.tag,a=e.username,o=e.page;t(ke({tag:r,username:a,page:o}))}),[t,n.search]),a.a.createElement(Be,{loading:l,error:u,posts:c,showWriteButton:s})}));function Je(){var e=Object(l.a)([""]);return Je=function(){return e},e}function Ze(){var e=Object(l.a)(["\n  width: 320px;\n  margin: 0 auto;\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 3rem;\n"]);return Ze=function(){return e},e}var qe=s.b.div(Ze()),Qe=s.b.div(Je()),$e=function(e){var n=e.username,t=e.tag,r=e.page,a=Oe.a.stringify({tag:t,page:r});return n?"/@".concat(n,"?").concat(a):"/?".concat(a)},Ke=function(e){var n=e.page,t=e.lastPage,r=e.username,o=e.tag;return a.a.createElement(qe,null,a.a.createElement(k,{disabled:1===n,to:1===n?void 0:$e({username:r,tag:o,page:n-1})},"\uc774\uc804"),a.a.createElement(Qe,null,n),a.a.createElement(k,{disabled:n===t,to:n===t?void 0:$e({username:r,tag:o,page:n+1})},"\ub2e4\uc74c"))},Ve=Object(u.e)((function(e){var n=e.location,t=Object(i.c)((function(e){var n=e.posts,t=e.loading;return{lastPage:n.lastPage,posts:n.posts,loading:t["posts/LIST_POSTS"]}})),r=t.lastPage,o=t.posts,c=t.loading;if(!o||c)return null;var u=Oe.a.parse(n.search,{ignoreQueryPrefix:!0}),l=u.tag,s=u.username,b=u.page,m=void 0===b?1:b;return a.a.createElement(Ke,{tag:l,username:s,page:parseInt(m,10),lastPage:r})})),Xe=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(ge,null),a.a.createElement(We,null),a.a.createElement(Ve,null))};function Ye(){var e=Object(l.a)(["\n  .logo-area {\n    display: block;\n    padding-bottom: 2rem;\n    /* \uc88c\uc6b0 \uac04\uaca9 \uc911\uc2ec */\n    text-align: center;\n    font-weight: bold;\n    /* \uae00\uc790 \uac04\uaca9 */\n    letter-spacing: 2px;\n  }\n  box-shadow: 0 0 8px rgba(0, 0, 0.025);\n  /* \ub0b4\ubd80\uc5d0\uc11c\uc73c\ub85c\ubd80\ud130 \ud328\ub529 */\n  padding: 2rem;\n  width: 360px;\n  background: white;\n  /* \ud544\ub81b */\n  border-radius: 2px;\n"]);return Ye=function(){return e},e}function en(){var e=Object(l.a)(["\n  position: absolute;\n  /* \ubaa8\ub4e0 \uac83\uc744 0\uc73c\ub85c \ud574\uc57c \ubaa8\ub4e0 \ud654\uba74\uc744 \uc7a1\uc74c */\n  left: 0;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  background: ",";\n  /* \ud50c\ub809\uc2a4\ub85c \ub0b4\ubd80 \ub0b4\uc6a9 \uc911\uc559 \uc815\ub82c ? */\n  display: flex;\n  flex-direction: column;\n  /* \uc0c1\ud558\uc758 \uc911\uc2ec */\n  justify-content: center;\n  /* \uc88c\uc6b0\uc758 \uc911\uc2ec */\n  align-items: center;\n"]);return en=function(){return e},e}var nn,tn=s.b.div(en(),p.gray[2]),rn=s.b.div(Ye()),an=function(e){var n=e.children;return a.a.createElement(tn,null,a.a.createElement(rn,null,a.a.createElement("div",{className:"logo-area"},a.a.createElement(g.b,{to:"/"},"REACTERS")),n))},on=t(55),cn=G.a.mark(xn),un=q("auth/REGISTER"),ln=Object(M.a)(un,3),sn=ln[0],bn=ln[1],mn=ln[2],fn=q("auth/LOGIN"),dn=Object(M.a)(fn,3),pn=dn[0],gn=dn[1],vn=dn[2],On=Object(H.a)("auth/CHANEGE_FIELD",(function(e){return{form:e.form,key:e.key,value:e.value}})),jn=Object(H.a)("auth/INITIALIZE_FORM",(function(e){return e})),En=Object(H.a)(sn,(function(e){return{username:e.username,password:e.password}})),hn=Object(H.a)(pn,(function(e){return{username:e.username,password:e.password}})),yn=Q(sn,(function(e){var n=e.username,t=e.password;return V.post("/api/auth/register",{username:n,password:t})})),wn=Q(pn,(function(e){var n=e.username,t=e.password;return V.post("/api/auth/login",{username:n,password:t})}));function xn(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Z.d)(sn,yn);case 2:return e.next=4,Object(Z.d)(pn,wn);case 4:case"end":return e.stop()}}),cn)}var kn={register:{username:"",password:"",passwordConfirm:""},login:{username:"",password:""},auth:null,authError:null},Sn=Object(U.a)((nn={},Object(D.a)(nn,"auth/CHANEGE_FIELD",(function(e,n){var t=n.payload,r=t.form,a=t.key,o=t.value;return Object(on.a)(e,(function(e){e[r][a]=o}))})),Object(D.a)(nn,"auth/INITIALIZE_FORM",(function(e,n){var t,r=n.payload.form;return Object(F.a)({},e,(t={},Object(D.a)(t,r,kn[r]),Object(D.a)(t,"authError",null),t))})),Object(D.a)(nn,bn,(function(e,n){var t=n.payload;return Object(F.a)({},e,{authError:null,auth:t})})),Object(D.a)(nn,mn,(function(e,n){var t=n.payload;return Object(F.a)({},e,{authError:t})})),Object(D.a)(nn,gn,(function(e,n){var t=n.payload;return Object(F.a)({},e,{authError:null,auth:t})})),Object(D.a)(nn,vn,(function(e,n){var t=n.payload;return Object(F.a)({},e,{authError:t})})),nn),kn);function Cn(){var e=Object(l.a)(["\n  margin-top: 1rem;\n"]);return Cn=function(){return e},e}function In(){var e=Object(l.a)(["\n  /* \uc704\uc758 \uc5d8\ub9ac\uba3c\ud2b8\uacfc\uc758 \uac04\uaca9 */\n  margin-top: 1rem;\n  text-align: right;\n  a {\n    color: ",";\n    text-decoration: underline;\n    :hover {\n      color: ",";\n    }\n  }\n"]);return In=function(){return e},e}function Tn(){var e=Object(l.a)(["\n  font-size: 1rem;\n  /* \ubaa8\uc11c\ub9ac\uc120 \uc0ad\uc81c */\n  border: none;\n  /* \ubc11 \uc904 \uae0b\uae30 */\n  border-bottom: 1px solid ",";\n  /* \uae00\uc790\uc640 \ubc11\uc904 \uc0ac\uc774\uc758 \ud2c8\uc744 \ub450\uae30 */\n  padding-bottom: 0.5rem;\n  outline: none;\n  width: 100%;\n  &:focus {\n    color: $oc-teal-7;\n    border-bottom: 1px solid ",";\n  }\n  & + & {\n    margin-top: 1rem;\n  }\n"]);return Tn=function(){return e},e}function _n(){var e=Object(l.a)(["\n  h3 {\n    margin: 0;\n    color: ",";\n    /*  \ubc14\ub2e5\uc73c\ub85c\ubd80\ud130 \ub9c8\uc9c4 */\n    margin-bottom: 1rem;\n  }\n"]);return _n=function(){return e},e}function Rn(){var e=Object(l.a)(["\n  color: red;\n  text-align: center;\n  font-size: 0.875rem;\n  margin-top: 1rem;\n"]);return Rn=function(){return e},e}var Pn,Ln=s.b.div(Rn()),An=s.b.div(_n(),p.gray[8]),Nn=s.b.input(Tn(),p.gray[5],p.gray[7]),Dn=s.b.div(In(),p.gray[6],p.gray[9]),Fn=Object(s.b)(k)(Cn()),zn={login:"\ub85c\uadf8\uc778",register:"\ud68c\uc6d0\uac00\uc785"},Gn=function(e){var n=e.type,t=e.form,r=e.onChange,o=e.onSubmit,c=e.error,u=zn[n];return a.a.createElement(An,null,a.a.createElement("h3",null,u),a.a.createElement("form",null,a.a.createElement(Nn,{autoComplete:"username",name:"username",placeholder:"\uc544\uc774\ub514",onChange:r,value:t.username}),a.a.createElement(Nn,{autoComplete:"new-password",name:"password",placeholder:"\ube44\ubc00\ubc88\ud638",type:"password",onChange:r,value:t.password}),"register"===n&&a.a.createElement(Nn,{autoComplete:"new-password",name:"passwordConfirm",placeholder:"\ube44\ubc00\ubc88\ud638 \ud655\uc778",type:"password",onChange:r,value:t.passwordConfirm}),c&&a.a.createElement(Ln,null,c),a.a.createElement(Fn,{cyan:!0,fullWidth:!0,onClick:o},u)),a.a.createElement(Dn,null,"login"===n?a.a.createElement(g.b,{to:"/register"},"\ud68c\uc6d0\uac00\uc785"):a.a.createElement(g.b,{to:"/login"},"\ub85c\uadf8\uc778")))},Mn=Object(u.e)((function(e){var n=e.history,t=Object(i.b)(),o=Object(i.c)((function(e){var n=e.auth,t=e.user;return{form:n.login,auth:n.auth,authError:n.authError,user:t.user}})),c=o.form,u=o.auth,l=o.authError,s=o.user,b=Object(r.useState)(null),m=Object(M.a)(b,2),f=m[0],d=m[1];return Object(r.useEffect)((function(){t(jn("login"))}),[t]),Object(r.useEffect)((function(){if(l)return console.log("\uc624\ub958 \ubc1c\uc0dd"),console.log(l),void d("\ub85c\uadf8\uc778 \uc2e4\ud328");u&&(console.log("login \uc131\uacf5"),t(ie()))}),[u,l,t]),Object(r.useEffect)((function(){if(s){console.log("check API \uc131\uacf5"),console.log(s),n.push("/");try{localStorage.setItem("user",JSON.stringify(s))}catch(e){console.log("LocalStorage is not working")}}}),[s,n]),a.a.createElement(Gn,{type:"login",form:c,onChange:function(e){var n=e.target,r=n.value,a=n.name;t(On({form:"login",key:a,value:r}))},onSubmit:function(e){e.preventDefault();var n=c.username,r=c.password;t(hn({username:n,password:r}))},error:f})})),Hn=function(){return a.a.createElement(an,null,a.a.createElement(Mn,null))},Un=Object(u.e)((function(e){var n=e.history,t=Object(r.useState)(null),o=Object(M.a)(t,2),c=o[0],u=o[1],l=Object(i.b)(),s=Object(i.c)((function(e){var n=e.auth,t=e.user;return{form:n.register,auth:n.auth,authError:n.authError,user:t.user}})),b=s.form,m=s.auth,f=s.authError,d=s.user;return Object(r.useEffect)((function(){l(jn("register"))}),[l]),Object(r.useEffect)((function(){if(f)return(f.response.status=409)?void u("\uc774\ubbf8 \uc874\uc7ac\ud558\ub294 \uacc4\uc815\uba85\uc785\ub2c8\ub2e4."):void console.log("\ud68c\uc6d0 \uac00\uc785 \uc2e4\ud328");m&&(console.log("\ud68c\uc6d0\uac00\uc785 \uc131\uacf5"),console.log(m),l(ie()))}),[m,f,l]),Object(r.useEffect)((function(){if(d){console.log("check API \uc131\uacf5"),console.log(d),n.push("/");try{localStorage.setItem("user",JSON.stringify(d))}catch(e){console.log("LocalStorage is not working")}}}),[d,n]),a.a.createElement(Gn,{type:"register",form:b,onChange:function(e){var n=e.target,t=n.value,r=n.name;l(On({form:"register",key:r,value:t}))},onSubmit:function(e){e.preventDefault();var n=b.username,t=b.password,r=b.passwordConfirm;if(![n,t,r].includes(""))return t!==r?(u("\ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."),l(On({form:"register",key:"password",value:""})),void l(On({form:"register",key:"passwordConfirm",value:""}))):void l(En({username:n,password:t}));u("\ube48 \uce78\uc744 \ubaa8\ub450 \uc785\ub825\ud558\uc138\uc694")},error:c})})),Bn=function(){return a.a.createElement(an,null,a.a.createElement(Un,null))},Wn=G.a.mark(Yn),Jn=q("post/READ_POST"),Zn=Object(M.a)(Jn,3),qn=Zn[0],Qn=Zn[1],$n=Zn[2],Kn=Object(H.a)(qn,(function(e){return e})),Vn=Object(H.a)("post/UNLOAD_POST"),Xn=Q(qn,(function(e){return V.get("/api/posts/".concat(e))}));function Yn(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Z.d)(qn,Xn);case 2:case"end":return e.stop()}}),Wn)}var et={post:null,error:null},nt=Object(U.a)((Pn={},Object(D.a)(Pn,Qn,(function(e,n){var t=n.payload;return Object(F.a)({},e,{post:t})})),Object(D.a)(Pn,$n,(function(e,n){var t=n.payload;return Object(F.a)({},e,{error:t})})),Object(D.a)(Pn,"post/UNLOAD_POST",(function(){return et})),Pn),et),tt=t(23);function rt(){var e=Object(l.a)(["\n  font-size: 1.3125rem;\n  color: ",";\n"]);return rt=function(){return e},e}function at(){var e=Object(l.a)(["\n  border-bottom: 1px solid ",";\n  padding-bottom: 3rem;\n  margin-bottom: 3rem;\n  h1 {\n    font-size: 3rem;\n    line-height: 1.5;\n    margin: 0;\n  }\n"]);return at=function(){return e},e}function ot(){var e=Object(l.a)(["\n  margin-top: 4rem;\n"]);return ot=function(){return e},e}var ct=s.b.div(ot()),ut=s.b.div(at(),p.gray[2]),it=s.b.div(rt(),p.gray[8]),lt=function(e){var n=e.actionButtons,t=e.post,r=e.error,o=e.loading;if(r)return r.response&&404===r.response.status?a.a.createElement(ct,null,"\uc874\uc7ac\ud558\uc9c0 \uc54a\ub294 \ud3ec\uc2a4\ud2b8 \uc785\ub2c8\ub2e4."):a.a.createElement(ct,null,"\uc624\ub958 \ubc1c\uc0dd!");if(o||!t)return null;var c=t.title,u=t.body,i=t.user,l=t.publishedDate,s=t.tags;return a.a.createElement(ct,null,a.a.createElement(tt.a,null,a.a.createElement("title",null,c," -REACTERS")),a.a.createElement(ut,null,a.a.createElement("h1",null,c),a.a.createElement(Pe,{username:i.username,publishedDate:l,hasMarginTop:!0}),a.a.createElement(Ne,{tags:s})),n,a.a.createElement(it,{dangerouslySetInnerHTML:{__html:u}}))};function st(){var e=Object(l.a)(["\n  height: 2rem;\n  & + & {\n    margin-left: 0.75rem;\n  }\n"]);return st=function(){return e},e}function bt(){var e=Object(l.a)(["\n  width: 320px;\n  background: white;\n  padding: 1.5rem;\n  border-radius: 4px;\n  box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.125);\n  h2 {\n    margin-top: 0;\n    margin-bottom: 1rem;\n  }\n  p {\n    margin-bottom: 3rem;\n  }\n  .buttons {\n    display: flex;\n    justify-content: flex-end;\n  }\n"]);return bt=function(){return e},e}function mt(){var e=Object(l.a)(["\n  position: fixed;\n  z-index: 30;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.25);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return mt=function(){return e},e}var ft=s.b.div(mt()),dt=s.b.div(bt()),pt=Object(s.b)(k)(st()),gt=function(e){var n=e.visible,t=e.title,r=e.description,o=e.confirmText,c=void 0===o?"\uc0ad\uc81c":o,u=e.cancelText,i=void 0===u?"\ucde8\uc18c":u,l=e.onConfirm,s=e.onCancel;return n?a.a.createElement(ft,null,a.a.createElement(dt,null,a.a.createElement("h2",null,t),a.a.createElement("p",null,r),a.a.createElement("div",{className:"buttons"},a.a.createElement(pt,{onClick:s},i),a.a.createElement(pt,{cyan:!0,onClick:l},c)))):null},vt=function(e){var n=e.visible,t=e.onConfirm,r=e.onCancel;return a.a.createElement(gt,{visible:n,title:"\ud3ec\uc2a4\ud2b8 \uc0ad\uc81c",description:"\ud3ec\uc2a4\ud2b8\ub97c \uc815\ub9d0 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",confirmText:"\uc0ad\uc81c",onConfirm:t,onCancel:r})};function Ot(){var e=Object(l.a)(["\n  padding: 0.25rem 0.5rem;\n  border-radius: 4px;\n  color: ",";\n  font-weight: bold;\n  border: none;\n  outline: none;\n  font-size: 0.875rem;\n  cursor: pointer;\n\n  &:hover {\n    background: ",";\n    color: ",";\n  }\n  & + & {\n    margin-left: 0.25rem;\n  }\n"]);return Ot=function(){return e},e}function jt(){var e=Object(l.a)(["\n  display: flex;\n  justify-content: flex-end;\n  margin-bottom: 2rem;\n  margin-top: -1.5rem;\n"]);return jt=function(){return e},e}var Et,ht=s.b.div(jt()),yt=s.b.button(Ot(),p.gray[6],p.gray[1],p.cyan[7]),wt=function(e){var n=e.onEdit,t=e.onRemove,o=Object(r.useState)(!1),c=Object(M.a)(o,2),u=c[0],i=c[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(ht,null,a.a.createElement(yt,{onClick:n},"\uc218\uc815"),a.a.createElement(yt,{onClick:function(){i(!0)}},"\uc0ad\uc81c")),a.a.createElement(vt,{visible:u,onConfirm:function(){i(!1),t()},onCancel:function(){i(!1)}}))},xt=G.a.mark(Ut),kt=q("write/WRITE_POST"),St=Object(M.a)(kt,3),Ct=St[0],It=St[1],Tt=St[2],_t=q("write/UPDATE_POST"),Rt=Object(M.a)(_t,3),Pt=Rt[0],Lt=Rt[1],At=Rt[2],Nt=Object(H.a)("write/SET_ORIGINAL_POST",(function(e){return e})),Dt=Object(H.a)("write/INITIALIZE"),Ft=Object(H.a)("write/CHANGE_FIELD",(function(e){return{key:e.key,value:e.value}})),zt=Object(H.a)(Ct,(function(e){return{title:e.title,body:e.body,tags:e.tags}})),Gt=Object(H.a)(Pt,(function(e){return{id:e.id,title:e.title,body:e.body,tags:e.tags}})),Mt=Q(Ct,(function(e){var n=e.title,t=e.body,r=e.tags;return V.post("/api/posts",{title:n,body:t,tags:r})})),Ht=Q(Pt,(function(e){var n=e.id,t=e.title,r=e.body,a=e.tags;return V.patch("/api/posts/".concat(n),t,r,a)}));function Ut(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Z.d)(Ct,Mt);case 2:return e.next=4,Object(Z.d)(Pt,Ht);case 4:case"end":return e.stop()}}),xt)}var Bt={title:"",body:"",tags:[],post:null,postError:null,originalPostId:null},Wt=Object(U.a)((Et={},Object(D.a)(Et,"write/INITIALIZE",(function(e){return Bt})),Object(D.a)(Et,"write/CHANGE_FIELD",(function(e,n){var t=n.payload,r=t.key,a=t.value;return Object(F.a)({},e,Object(D.a)({},r,a))})),Object(D.a)(Et,Ct,(function(e){return Object(F.a)({},e,{post:null,postError:null})})),Object(D.a)(Et,It,(function(e,n){var t=n.payload;return Object(F.a)({},e,{post:t})})),Object(D.a)(Et,Tt,(function(e,n){var t=n.payload;return Object(F.a)({},e,{postError:t})})),Object(D.a)(Et,"write/SET_ORIGINAL_POST",(function(e,n){var t=n.payload;return Object(F.a)({},e,{title:t.title,body:t.body,tags:t.tags,originalPostId:t._id})})),Object(D.a)(Et,Lt,(function(e,n){var t=n.payload;return Object(F.a)({},e,{post:t})})),Object(D.a)(Et,At,(function(e,n){var t=n.payload;return Object(F.a)({},e,{postError:t})})),Et),Bt),Jt=Object(u.e)((function(e){var n=e.match,t=e.history,o=n.params.postId,c=Object(i.b)(),u=Object(i.c)((function(e){var n=e.post,t=e.loading,r=e.user;return{post:n.post,error:n.error,loading:t["post/READ_POST"],user:r.user}})),l=u.post,s=u.error,b=u.loading,m=u.user;Object(r.useEffect)((function(){return c(Kn(o)),function(){c(Vn())}}),[c,o]);var f=(m&&m._id)===(l&&l.user._id);return a.a.createElement(lt,{post:l,loading:b,error:s,actionButtons:f&&a.a.createElement(wt,{onEdit:function(){c(Nt(l)),t.push("/write")},onRemove:function(){return G.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G.a.awrap((n=o,V.delete("/api/posts/".concat(n))));case 3:t.push("/"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}var n}),null,null,[[0,6]])}})})})),Zt=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(ge,null),a.a.createElement(Jt,null))},qt=t(59);function Qt(){var e=Object(l.a)(["\n  display: flex;\n  margin-top: 0.5rem;\n"]);return Qt=function(){return e},e}function $t(){var e=Object(l.a)(["\n  margin-right: 0.5rem;\n  color: ",";\n  cursor: pointer;\n  &:hover {\n    opacity: 0.5;\n  }\n"]);return $t=function(){return e},e}function Kt(){var e=Object(l.a)(["\n  border-radius: 4px;\n  overflow: hidden;\n  display: flex;\n  width: 256px;\n  border: 1px solid ","; /* \uc2a4\ud0c0\uc77c \ucd08\uae30\ud654??? */\n  input,\n  button {\n    outline: none;\n    border: none;\n    font-size: 1rem;\n  }\n  input {\n    padding: 0.5rem;\n    flex: 1;\n    /* \ucc0c\uadf8\ub7ec\uc9d0 \ubc29\uc9c0 */\n    min-width: 0;\n  }\n  button {\n    cursor: pointer;\n    padding-right: 1rem;\n    padding-left: 1rem;\n    border: none;\n    background: ",";\n    color: white;\n    font-weight: bold;\n    &:hover {\n      background: ",";\n    }\n  }\n"]);return Kt=function(){return e},e}function Vt(){var e=Object(l.a)(["\n  width: 100%;\n  border-top: 1px solid ",";\n  h4 {\n    color: ",";\n    margin-top: 0;\n    margin-bottom: 0.5rem;\n  }\n"]);return Vt=function(){return e},e}var Xt=s.b.div(Vt(),p.gray[2],p.gray[8]),Yt=s.b.form(Kt(),p.gray[9],p.gray[8],p.gray[6]),er=s.b.div($t(),p.gray[6]),nr=s.b.div(Qt()),tr=a.a.memo((function(e){var n=e.tag,t=e.onRemove;return a.a.createElement(er,{onClick:function(){return t(n)}},"#",n)})),rr=a.a.memo((function(e){var n=e.tags,t=e.onRemove;return a.a.createElement(nr,null,n.map((function(e){return a.a.createElement(tr,{key:e,tag:e,onRemove:t})})))})),ar=function(e){var n=e.tags,t=e.onChangeTags,o=Object(r.useState)(""),c=Object(M.a)(o,2),u=c[0],i=c[1],l=Object(r.useState)([]),s=Object(M.a)(l,2),b=s[0],m=s[1],f=Object(r.useCallback)((function(e){if(e&&!b.includes(e)){var n=[].concat(Object(qt.a)(b),[e]);m(n),t(n)}}),[b,t]),d=Object(r.useCallback)((function(e){var n=b.filter((function(n){return n!==e}));m(n),t(n)}),[b,t]),p=Object(r.useCallback)((function(e){i(e.target.value)}),[]),g=Object(r.useCallback)((function(e){e.preventDefault(),f(u.trim()),i("")}),[u,f]);return Object(r.useEffect)((function(){m(n)}),[n]),a.a.createElement(Xt,null,a.a.createElement("h4",null,"\ud0dc\uadf8"),a.a.createElement(Yt,{onSubmit:g},a.a.createElement("input",{placeholde:"\ud0dc\uadf8\ub97c \uc785\ub825\ud558\uc138\uc694",value:u,onChange:p}),a.a.createElement("button",{type:"submit"},"\ucd94\uac00")),a.a.createElement(rr,{tags:b,onRemove:d}))},or=function(){var e=Object(i.b)(),n=Object(i.c)((function(e){return e.write.tags}));return a.a.createElement(ar,{onChangeTags:function(n){e(Ft({key:"tags",value:n}))},tags:n})},cr=(t(93),t(57)),ur=t.n(cr);function ir(){var e=Object(l.a)(["\n  .ql-editor {\n    padding: 0;\n    min-height: 320px;\n    font-size: 1.125rem;\n    line-height: 1.5;\n  }\n  .ql-editor .ql-blank::before {\n    left: 0px;\n  }\n"]);return ir=function(){return e},e}function lr(){var e=Object(l.a)(["\n  font-size: 3rem;\n  outline: none;\n  padding-bottom: 0.5rem;\n  border: none;\n  border-bottom: 1px solid ",";\n  margin-bottom: 2rem;\n  width: 100%;\n"]);return lr=function(){return e},e}function sr(){var e=Object(l.a)(["\n  /* \ud398\uc774\uc9c0 \uc704\uc544\ub798 \uc5ec\ubc31\uc9c0\uc815 */\n  padding-top: 5rem;\n  padding-bottom: 5rem;\n"]);return sr=function(){return e},e}var br=Object(s.b)(d)(sr()),mr=s.b.input(lr(),p.gray[4]),fr=s.b.div(ir()),dr=function(e){var n=e.title,t=e.body,o=e.onChangeField,c=Object(r.useRef)(null),u=Object(r.useRef)(null);Object(r.useEffect)((function(){u.current=new ur.a(c.current,{theme:"bubble",placeholder:"\ub0b4\uc6a9\uc744 \uc791\uc131\ud558\uc138\uc694...",modules:{toolbar:[[{header:"1"},{header:"2"}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],["bold","code-block","link","image"]]}});var e=u.current;e.on("text-change",(function(n,t,r){"user"===r&&o({key:"body",value:e.root.innerHTML})}))}),[o]);var i=Object(r.useRef)(!1);Object(r.useEffect)((function(){i.current||(i.current=!0,u.current.root.innerHTML=t)}),[t]);return a.a.createElement(br,null,a.a.createElement(mr,{placeholder:"\uc81c\ubaa9\uc744 \uc785\ub825\ud558\uc138\uc694",onChange:function(e){o({key:"title",value:e.target.value})},value:n}),a.a.createElement(fr,null,a.a.createElement("div",{ref:c})))},pr=function(){var e=Object(i.b)(),n=Object(i.c)((function(e){var n=e.write;return{title:n.title,body:n.body}})),t=n.title,o=n.body,c=Object(r.useCallback)((function(n){return e(Ft(n))}),[e]);return Object(r.useEffect)((function(){return function(){e(Dt())}}),[e]),a.a.createElement(dr,{onChangeField:c,title:t,body:o})};function gr(){var e=Object(l.a)(["\n  height: 2.125rem;\n  & + & {\n    margin-left: 0.5rem;\n  }\n"]);return gr=function(){return e},e}function vr(){var e=Object(l.a)(["\n  margin-top: 1rem;\n  margin-bottom: 3rem;\n  button + button {\n    margin-left: 0.5rem;\n  }\n"]);return vr=function(){return e},e}var Or=s.b.div(vr()),jr=Object(s.b)(k)(gr()),Er=function(e){var n=e.onCancel,t=e.onPublish,r=e.isEdit;return a.a.createElement(Or,null,a.a.createElement(jr,{cyan:!0,onClick:t},"\ud3ec\uc2a4\ud2b8 ",r?"\uc218\uc815 ":"\ub4f1\ub85d"),a.a.createElement(jr,{onClick:n},"\ucde8\uc18c"))},hr=Object(u.e)((function(e){var n=e.history,t=Object(i.b)(),o=Object(i.c)((function(e){var n=e.write;return{title:n.title,body:n.body,tags:n.tags,post:n.post,postError:n.postError,originalPostId:n.originalPostId}})),c=o.title,u=o.body,l=o.tags,s=o.post,b=o.postError,m=o.originalPostId;return Object(r.useEffect)((function(){if(s){var e=s._id,t=s.user;n.push("/@".concat(t.username,"/").concat(e))}b&&console.log(b)}),[n,s,b]),a.a.createElement(Er,{onPublish:function(){m&&t(Gt({title:c,body:u,tags:l,id:m})),t(zt({title:c,body:u,tags:l}))},onCancel:function(){n.goBack()},isEdit:m})})),yr=function(){return a.a.createElement(d,null,a.a.createElement(tt.a,null,a.a.createElement("title",null," \uc0c8 \uae00 \uc791\uc131\ud558\uae30")),a.a.createElement(pr,null),a.a.createElement(or,null),a.a.createElement(hr,null))},wr=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(tt.a,null,a.a.createElement("title",null,"REACTERS")),a.a.createElement(u.a,{component:Xe,path:["/@:username","/"],exact:!0}),a.a.createElement(u.a,{component:Zt,path:"/@:username/:postId"}),a.a.createElement(u.a,{component:Hn,path:"/login"}),a.a.createElement(u.a,{component:yr,path:"/write"}),a.a.createElement(u.a,{component:Bn,path:"/register"}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var xr=t(20),kr=G.a.mark(Sr);function Sr(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Z.a)([xn(),fe(),Ut(),Yn(),Ce()]);case 2:case"end":return e.stop()}}),kr)}var Cr=Object(xr.combineReducers)({auth:Sn,loading:J,user:pe,write:Wt,post:nt,posts:Ie}),Ir=t(58),Tr=t(60),_r=Object(Tr.a)(),Rr=Object(xr.createStore)(Cr,Object(Ir.composeWithDevTools)(Object(xr.applyMiddleware)(_r)));_r.run(Sr),function(){try{var e=localStorage.getItem("user");if(!e)return;Rr.dispatch(ue(e)),Rr.dispatch(ie())}catch(n){console.log("localStorage is not working")}}(),c.a.render(a.a.createElement(i.a,{store:Rr},a.a.createElement(g.a,null,a.a.createElement(tt.b,null,a.a.createElement(wr,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[63,1,2]]]);
//# sourceMappingURL=main.797d1f5e.chunk.js.map