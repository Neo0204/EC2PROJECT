{"ast":null,"code":"import _defineProperty from\"/Users/neo/Desktop/react/blog/blog-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/neo/Desktop/react/blog/blog-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/neo/Desktop/react/blog/blog-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _slicedToArray from\"/Users/neo/Desktop/react/blog/blog-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";var _handleActions;var _marked=/*#__PURE__*/_regeneratorRuntime.mark(postSaga);import createRequestSaga,{createRequestActionTypes}from'../lib/createRequestSaga';import{createAction,handleActions}from'redux-actions';import*as postsAPI from'../lib/api/posts';import{takeLatest}from'redux-saga/effects';var _createRequestActionT=createRequestActionTypes('post/READ_POST'),_createRequestActionT2=_slicedToArray(_createRequestActionT,3),READ_POST=_createRequestActionT2[0],READ_POST_SUCCESS=_createRequestActionT2[1],READ_POST_FAILURE=_createRequestActionT2[2];var UNLOAD_POST='post/UNLOAD_POST';export var readPost=createAction(READ_POST,function(id){return id;});export var unloadPost=createAction(UNLOAD_POST);var readPostSaga=createRequestSaga(READ_POST,postsAPI.readPost);export function postSaga(){return _regeneratorRuntime.wrap(function postSaga$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return takeLatest(READ_POST,readPostSaga);case 2:case\"end\":return _context.stop();}}},_marked);}var initialState={post:null,error:null};var post=handleActions((_handleActions={},_defineProperty(_handleActions,READ_POST_SUCCESS,function(state,_ref){var post=_ref.payload;return _objectSpread({},state,{post:post});}),_defineProperty(_handleActions,READ_POST_FAILURE,function(state,_ref2){var error=_ref2.payload;return _objectSpread({},state,{error:error});}),_defineProperty(_handleActions,UNLOAD_POST,function(){return initialState;}),_handleActions),initialState);export default post;","map":{"version":3,"sources":["/Users/neo/Desktop/react/blog/blog-frontend/src/modules/post.js"],"names":["postSaga","createRequestSaga","createRequestActionTypes","createAction","handleActions","postsAPI","takeLatest","READ_POST","READ_POST_SUCCESS","READ_POST_FAILURE","UNLOAD_POST","readPost","id","unloadPost","readPostSaga","initialState","post","error","state","payload"],"mappings":"qsBAoBiBA,Q,EApBjB,MAAOC,CAAAA,iBAAP,EACEC,wBADF,KAEO,0BAFP,CAGA,OAASC,YAAT,CAAuBC,aAAvB,KAA4C,eAA5C,CACA,MAAO,GAAKC,CAAAA,QAAZ,KAA0B,kBAA1B,CACA,OAASC,UAAT,KAA2B,oBAA3B,C,0BAMIJ,wBAAwB,CAAC,gBAAD,C,gEAH1BK,S,2BACAC,iB,2BACAC,iB,2BAGF,GAAMC,CAAAA,WAAW,CAAG,kBAApB,CAEA,MAAO,IAAMC,CAAAA,QAAQ,CAAGR,YAAY,CAACI,SAAD,CAAY,SAAAK,EAAE,QAAIA,CAAAA,EAAJ,EAAd,CAA7B,CACP,MAAO,IAAMC,CAAAA,UAAU,CAAGV,YAAY,CAACO,WAAD,CAA/B,CAEP,GAAMI,CAAAA,YAAY,CAAGb,iBAAiB,CAACM,SAAD,CAAYF,QAAQ,CAACM,QAArB,CAAtC,CAEA,MAAO,SAAUX,CAAAA,QAAV,oIACL,MAAMM,CAAAA,UAAU,CAACC,SAAD,CAAYO,YAAZ,CAAhB,CADK,sDAIP,GAAMC,CAAAA,YAAY,CAAG,CAAEC,IAAI,CAAE,IAAR,CAAcC,KAAK,CAAE,IAArB,CAArB,CAEA,GAAMD,CAAAA,IAAI,CAAGZ,aAAa,mDAErBI,iBAFqB,CAED,SAACU,KAAD,UAAmBF,CAAAA,IAAnB,MAAUG,OAAV,yBAAoCD,KAApC,EAA2CF,IAAI,CAAJA,IAA3C,IAFC,iCAGrBP,iBAHqB,CAGD,SAACS,KAAD,WAAmBD,CAAAA,KAAnB,OAAUE,OAAV,yBAAqCD,KAArC,EAA4CD,KAAK,CAALA,KAA5C,IAHC,iCAIrBP,WAJqB,CAIP,iBAAMK,CAAAA,YAAN,EAJO,kBAMxBA,YANwB,CAA1B,CASA,cAAeC,CAAAA,IAAf","sourcesContent":["import createRequestSaga, {\n  createRequestActionTypes,\n} from '../lib/createRequestSaga';\nimport { createAction, handleActions } from 'redux-actions';\nimport * as postsAPI from '../lib/api/posts';\nimport { takeLatest } from 'redux-saga/effects';\n\nconst [\n  READ_POST,\n  READ_POST_SUCCESS,\n  READ_POST_FAILURE,\n] = createRequestActionTypes('post/READ_POST');\n\nconst UNLOAD_POST = 'post/UNLOAD_POST';\n\nexport const readPost = createAction(READ_POST, id => id);\nexport const unloadPost = createAction(UNLOAD_POST);\n\nconst readPostSaga = createRequestSaga(READ_POST, postsAPI.readPost);\n\nexport function* postSaga() {\n  yield takeLatest(READ_POST, readPostSaga);\n}\n\nconst initialState = { post: null, error: null };\n\nconst post = handleActions(\n  {\n    [READ_POST_SUCCESS]: (state, { payload: post }) => ({ ...state, post }),\n    [READ_POST_FAILURE]: (state, { payload: error }) => ({ ...state, error }),\n    [UNLOAD_POST]: () => initialState,\n  },\n  initialState,\n);\n\nexport default post;\n"]},"metadata":{},"sourceType":"module"}